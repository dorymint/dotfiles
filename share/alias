# share/alias

# TODO: consider to simpl

# common
alias la='builtin command ls -hal --color=auto'
alias lale='builtin command ls -hal --color=always | less -R'
alias dmesgl='builtin command dmesg --color=always | less -R'
alias :q='builtin exit'
alias mkdir='builtin command mkdir -p -v'
alias ping='builtin command ping -c 3'
alias ..='cd ..'

alias rm='builtin command rm -I -v'
alias cp='builtin command cp -i'
alias ln='builtin command ln -i'
alias chown='builtin command chown --preserve-root'
alias chmod='builtin command chmod --preserve-root'
alias chgrp='builtin command chgrp --preserve-root'

## for carry of alias
#alias sudo='builtin command sudo '

# local
## cd
alias gw='cd "${GOPATH}"/src/github.com/"$(git config --global user.name)"'
alias ww='cd "${HOME}"/github.com/"$(git config --global user.name)"'
alias dotfiles='cd "${HOME}"/dotfiles'

## goto src for golang
if [ -d "${GOROOT}"/src ] && [ -x "$(builtin command -v vim)" ]; then
	alias gosrc='cd "${GOROOT}/src" && vim -R . '
fi

## goto src for rust
if [ -x "$(builtin command -v rustc)" ]; then
	if [ -d "$(rustc --print sysroot)"/lib/rustlib/src/rust/src ]; then
		alias rustsrc='cd "$(rustc --print sysroot)"/lib/rustlib/src/rust/src && vim -R .'
	fi
fi

## vim
if [ -x "${HOME}"/opt/vim/bin/vim ]; then
	alias viml='"${HOME}"/opt/vim/bin/vim'
fi

## nvim
if [ -x "${HOME}"/opt/neovim/bin/nvim ]; then
	alias nvim='"${HOME}"/opt/neovim/bin/nvim'
fi

## python
if [ -r "${HOME}"/venv/bin/activate ]; then
	alias python-activate='builtin source ${HOME}/venv/bin/activate'
fi

## peco
if [ -x "$(builtin command -v peco)" ]; then
	if [ -x "$(builtin command -v reps.sh)" ]; then
		alias reps='cd "$(reps.sh status | peco)"'
	fi
	alias cdl='cd "$(dirs -pl | peco)"'
	alias cdp='cd "$(find . -type d ! -path "*.git*" ! -path "*.deps*" | peco)"'
	alias gwp='gw && cdp'
	if [ -x "$(builtin command -v gotcha)" ]; then
		if alias viml &> /dev/null; then
			alias gwtodo='gw && viml "$(gotcha -trim=false | peco)"'
		else
			alias gwtodo='gw && vim "$(gotcha -trim=false | peco)"'
		fi
	fi
fi

## gits && cho
if [ -x "$(builtin command -v gits)" ] && [ -x "$(builtin command -v cho)" ]; then
	alias cdg='cd -- $(gits -list-repo-full | cho || pwd)'
	alias gl='gits -- "status --with-color" | less -R'
fi

# sway
if [ -x "$(builtin command -v sway)" ]; then
	alias sway='XKB_DEFAULT_LAYOUT=jp XKB_DEFAULT_MODEL=pc106 WLC_REPEAT_DELAY=200 WLC_REPEAT_RATE=30 sway'
	alias sway-without-xwayland='XKB_DEFAULT_LAYOUT=jp XKB_DEFAULT_MODEL=pc106 WLC_REPEAT_DELAY=200 WLC_REPEAT_RATE=30 WLC_XWAYLAND=0 sway'
fi

## etc
[ "${TERM}" = "xterm-termite" ] && alias ssh='TERM=xterm-256color ssh'
[ -x "$(builtin command -v mplayer)" ] && alias mplayerbgm='builtin command mplayer -ao pulse -vo null '
alias timers &> /dev/null || alias timers='systemctl --no-pager --user list-timers'
